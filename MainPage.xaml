<Page
    x:Class="聚合搜索.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:聚合搜索"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" KeyDown="Page_KeyDown" SizeChanged="Page_SizeChanged">

    <Grid>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="VisualStateGroup">
                <VisualState x:Name="Large">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="650"/>
                    </VisualState.StateTriggers>
                </VisualState>
                <VisualState x:Name="Midium">
                    <VisualState.Setters>
                        <Setter Target="CopyLink.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="OpenOutside.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="History.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="SettingButton.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="MoreFunctions.(UIElement.Visibility)" Value="Visible"/>
                    </VisualState.Setters>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="400"/>
                    </VisualState.StateTriggers>
                </VisualState>
                <VisualState x:Name="Small">
                    <VisualState.Setters>
                        <Setter Target="Back.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="Forward.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="Refresh.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="CopyLink.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="OpenOutside.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="History.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="SettingButton.(UIElement.Visibility)" Value="Collapsed"/>
                        <Setter Target="MoreFunctions.(UIElement.Visibility)" Value="Visible"/>
                    </VisualState.Setters>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Grid x:Name="SettingGrid"
              Grid.Row="1"
              Grid.Column="1" Background="#4C7F7F7F">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
            </Grid.ColumnDefinitions>

            <Button Name="SettingReturn"
                    FontFamily="Segoe MDL2 Assets"
                    FontSize="36"
                    Content="&#xE760;" Margin="0,13,0,0" Background="Transparent" Click="SettingReturn_Click"/>
            <TextBlock FontSize="36" Margin="63,10,0,0" VerticalAlignment="Stretch">选项</TextBlock>
            <StackPanel Grid.Row="1"
                        Orientation="Vertical" Margin="10,0,0,0">
                <ToggleSwitch Name="OpenLinkOutside"
                              Margin="0,20,0,10"
                              OffContent="关"
                              OnContent="开"
                              HorizontalAlignment="Left"
                              VerticalAlignment="Top">
                    在外部浏览器打开链接
                </ToggleSwitch>
            </StackPanel>
        </Grid>

        <WebView x:Name="WV"
                 Margin="1"
                 Grid.Row="1"
                 Grid.Column="4"
                 Source="https://www.baidu.com/"
                 LoadCompleted="WV_LoadCompleted"
                 NewWindowRequested="WV_NewWindowRequested" Visibility="Visible"/>

        <Grid x:Name="TitleGrid"
              Grid.Row="0"
              Grid.Column="0"
              Grid.ColumnSpan="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <ProgressRing x:Name="loadPR" Foreground="{ThemeResource SystemColorControlAccentColor}"/>
            <TextBlock x:Name="Title"
                       Grid.Column="1"
                       Grid.Row="0"
                       VerticalAlignment="Center"
                       Margin="5,3,5,3"><Run Text="聚合搜索"/></TextBlock>
            <Button x:Name="folder"
                    Grid.Column="0"
                    Grid.Row="1"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    FontFamily="Segoe MDL2 Assets"
                    Content="&#xE700;"
                    Margin="0,5,0,5"
                    FontSize="16"
                    Click="folder_Click" Height="32" TabIndex="0"/>
            <Grid x:Name="ToolBar"
                  Grid.Column="1"
                  Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="SearchBar"
                         Grid.Column="0"
                         Margin="5,5,5,5"
                         PlaceholderText="输入搜索内容"/>

                <Button x:Name="SearchButton"
                        Grid.Column="1"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Top"
                        FontFamily="Segoe MDL2 Assets"
                        Content="&#xE094;"
                        Margin="0,5,5,0"
                        FontSize="16"
                        Height="32"
                        Click="Search_Click"/>
                <StackPanel Name="TitleButtonSP"
                            Orientation="Horizontal"
                            Grid.Column="2">
                    <Button x:Name="Back" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" Content="&#xE0A6;" Margin="0,5,5,0" FontSize="16" Height="32" Click="Back_Click"/>
                    <Button x:Name="Forward" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" Content="&#xE0AB;" Margin="0,5,5,0" FontSize="16" Height="32" Click="Forward_Click"/>
                    <Button x:Name="Refresh" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" Content="&#xE895;" Margin="0,5,5,0" FontSize="16" Height="32" Click="Refresh_Click"/>
                    <Button x:Name="CopyLink" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" Content="&#xE16F;" Margin="0,5,5,0" FontSize="16" Height="32" Click="CopyLink_Click" PointerExited="CopyLink_PointerExited" />
                    <Button Name="OpenOutside" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" FontSize="16" Content="&#xE12B;" Margin="0,5,5,0" Height="32" Click="OpenOutside_Click" />
                    <Button Name="History" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" FontSize="16" Content="&#xE81C;" Margin="0,5,5,0" Height="32" Click="History_Click" />
                    <Button Name="SettingButton" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" FontSize="16" Content="&#xE713;" Margin="0,5,5,0" Height="32" Click="SettingButton_Click" />
                    <Button Name="MoreFunctions" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" Content="&#xE712;" Margin="0,5,5,0" FontSize="16" Height="32" Visibility="Collapsed">
                        <Button.Flyout>
                            <Flyout>
                                <StackPanel Name="FlyoutButtonSP">
                                    <StackPanel Orientation="Horizontal">
                                        <Button x:Name="FlyoutBack"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE0A6;"
                                            Margin="0,5,5,0"
                                            FontSize="16"
                                            Height="32"
                                            Click="Back_Click"/>
                                        <TextBlock VerticalAlignment="Center">后退</TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Button x:Name="FlyoutForward"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE0AB;"
                                            Margin="0,5,5,0"
                                            FontSize="16"
                                            Height="32"
                                            Click="Forward_Click"/>
                                        <TextBlock VerticalAlignment="Center">前进</TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Button x:Name="FlyoutRefresh"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE895;"
                                            Margin="0,5,5,0"
                                            FontSize="16"
                                            Height="32"
                                            Click="Refresh_Click"/>
                                        <TextBlock VerticalAlignment="Center">刷新</TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal"
                                                >
                                        <Button x:Name="FlyoutCopyLink"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            FontFamily="Segoe MDL2 Assets"
                                            Content="&#xE16F;"
                                            Margin="0,5,5,0"
                                            FontSize="16"
                                            Height="32"
                                            Click="CopyLink_Click"
                                            PointerExited="CopyLink_PointerExited"
                                            />
                                        <TextBlock VerticalAlignment="Center">复制链接</TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Name="FlyoutOpenOutside"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            FontFamily="Segoe MDL2 Assets"
                                            FontSize="16"
                                            Content="&#xE12B;"
                                            Margin="0,5,5,0"
                                            Height="32"
                                            Click="OpenOutside_Click"
                                            />
                                        <TextBlock VerticalAlignment="Center">转到浏览器</TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Name="FlyoutHistory" HorizontalAlignment="Stretch" VerticalAlignment="Top" FontFamily="Segoe MDL2 Assets" FontSize="16" Content="&#xE81C;" Margin="0,5,5,0" Height="32" Click="History_Click" />
                                        <TextBlock VerticalAlignment="Center">浏览历史记录</TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Name="FlyoutSettingButton"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            FontFamily="Segoe MDL2 Assets"
                                            FontSize="16"
                                            Content="&#xE713;"
                                            Margin="0,5,5,0"
                                            Height="32"
                                            Click="SettingButton_Click"
                                            />
                                        <TextBlock VerticalAlignment="Center">选项</TextBlock>
                                    </StackPanel>
                                </StackPanel>
                            </Flyout>
                        </Button.Flyout>
                    </Button>
                </StackPanel>
            </Grid>

        </Grid>
        <ListBox x:Name="TabBar"
                 Grid.Row="1"
                 Grid.Column="0"
                 IsTabStop="True"
                 Tapped="TabBar_Tapped">
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Vertical"/>
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>

            <TextBlock><Run Text="百度"/></TextBlock>
            <TextBlock><Run Text="搜狗"/></TextBlock>
            <TextBlock><Run Text="360 搜索"/></TextBlock>
            <TextBlock><Run Text="Bing 国内版"/></TextBlock>
            <TextBlock><Run Text="Google"/></TextBlock>
            <TextBlock><Run Text="搜狗·微信"/></TextBlock>
            <TextBlock><Run Text="哔哩哔哩"/></TextBlock>
            <TextBlock><Run Text="知乎"/></TextBlock>
            <TextBlock><Run Text="少数派"/></TextBlock>
            <TextBlock><Run Text="36氪"/></TextBlock>
            <TextBlock><Run Text="简书"/></TextBlock>
            <TextBlock><Run Text="豆瓣"/></TextBlock>
            <TextBlock><Run Text="微博"/></TextBlock>
            <TextBlock><Run Text="今日头条"/></TextBlock>
            <TextBlock><Run Text="天涯社区"/></TextBlock>
            <TextBlock><Run Text="CSDN"/></TextBlock>
            <TextBlock><Run Text="博客园"/></TextBlock>
            <TextBlock><Run Text="Github"/></TextBlock>
            <TextBlock><Run Text="Stack Overflow"/></TextBlock>
        </ListBox>
    </Grid>
</Page>